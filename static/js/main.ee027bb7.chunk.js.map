{"version":3,"sources":["firebase/config.js","contexts/AuthContext.js","routes/PublicRoute.js","hooks/useFirestore.js","components/ImageDisplay.js","hooks/useStorage.js","components/ProgressBar.js","components/ImageUpload.js","components/Modal.js","components/NavBar.js","pages/Homepage.js","pages/Login.js","pages/Signup.js","pages/ResetPass.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","serverStorage","storage","serverFirestore","firestore","timestamp","FieldValue","serverTimestamp","auth","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","user","value","login","email","password","signInWithEmailAndPassword","signup","createUserWithEmailAndPassword","logout","signOut","resetPass","sendPasswordResetEmail","updateEmail","updatePass","newPassword","updatePassword","Provider","PublicRoute","Component","component","restricted","rest","render","props","to","useFirestore","collection","docs","setDocs","unsub","orderBy","onSnapshot","snap","document","forEach","doc","push","data","id","ImageDisplay","setSelectedImg","className","map","motion","div","whileHover","opacity","scale","whileTap","layout","onClick","url","img","src","alt","initial","animate","transition","delay","useStorage","file","progress","setProgress","error","setError","setUrl","storageRef","ref","name","collectionRef","put","on","uploadPercentage","bytesTransferred","totalBytes","err","console","log","a","getDownloadURL","createdAt","add","ProgressBar","setFile","width","ImageUpload","useHistory","allowedTypes","type","onChange","e","selected","target","files","includes","Modal","selectedImg","classList","contains","y","NavBar","handleLogout","pushState","Homepage","Login","emailRef","useRef","passwordRef","history","handleSubmit","preventDefault","current","onSubmit","required","style","color","innerHTML","disabled","Signup","confirmPasswordRef","handleShow","ResetPass","message","setMessage","App","exact","path","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ee027bb7.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/storage\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBYQ-mt5kZs1dsbw6ZdK2HVbm2afmTOY-o\",\n  authDomain: \"pixabook-ebe1f.firebaseapp.com\",\n  databaseURL: \"https://pixabook-ebe1f-default-rtdb.firebaseio.com\",\n  projectId: \"pixabook-ebe1f\",\n  storageBucket: \"pixabook-ebe1f.appspot.com\",\n  messagingSenderId: \"480554557124\",\n  appId: \"1:480554557124:web:4b5cc542b7b3e7194df391\"\n};\n\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n//firebase.analytics();\n\nconst serverStorage = firebase.storage();\nconst serverFirestore = firebase.firestore();\nconst timestamp = firebase.firestore.FieldValue.serverTimestamp;\nexport const auth = firebase.auth();\n\nexport { serverStorage, serverFirestore, timestamp };\n","import React, { useState, useContext, useEffect } from \"react\";\nimport { auth } from \"../firebase/config\";\n\nconst AuthContext = React.createContext();\n\nconst useAuth = () => {\n  return useContext(AuthContext);\n};\n\nconst AuthProvider = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState();\n  const [loading, setLoading] = useState(true);\n\n  const signup = (email, password) => {\n    return auth.createUserWithEmailAndPassword(email, password);\n  };\n  // const sighInWithGoogle = () => {\n  //   return auth.signInWithPopup(new serverFirestore.auth.GoogleAuthProvider());\n  // };\n\n  const login = (email, password) => {\n    return auth.signInWithEmailAndPassword(email, password);\n  };\n\n  const logout = () => {\n    return auth.signOut();\n  };\n  const resetPass = (email) => {\n    return auth.sendPasswordResetEmail(email);\n  };\n\n  const updateEmail = (email) => {\n    return currentUser.updateEmail(email);\n  };\n\n  const updatePass = (newPassword) => {\n    return currentUser.updatePassword(newPassword);\n  };\n\n  useEffect(() => {\n    const unsub = auth.onAuthStateChanged((user) => {\n      setCurrentUser(user);\n      setLoading(false);\n    });\n    return unsub;\n  }, []);\n\n  const value = {\n    currentUser,\n    login,\n    signup,\n    logout,\n    resetPass,\n    updateEmail,\n    updatePass,\n    //sighInWithGoogle,\n    //checkCurrentPass,\n  };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {!loading && children}\n    </AuthContext.Provider>\n  );\n};\n\nexport { useAuth };\n\nexport default AuthProvider;\n","import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport { useAuth } from \"../contexts/AuthContext\";\n\nconst PublicRoute = ({ component: Component, restricted, ...rest }) => {\n  const { currentUser } = useAuth();\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n        return currentUser && restricted ? (\n          <Redirect to=\"/\" />\n        ) : (\n          <Component {...props} />\n        );\n      }}\n    ></Route>\n  );\n};\nexport default PublicRoute;\n","import { useState, useEffect } from \"react\";\nimport { serverFirestore } from \"../firebase/config\";\nconst useFirestore = (collection) => {\n  const [docs, setDocs] = useState([]);\n\n  useEffect(() => {\n    const unsub = serverFirestore\n      .collection(collection)\n      .orderBy(\"createdAt\", \"desc\")\n      .onSnapshot((snap) => {\n        let document = [];\n        snap.forEach((doc) => {\n          document.push({ ...doc.data(), id: doc.id });\n        });\n        setDocs(document);\n      });\n    return () => unsub;\n  }, [collection]);\n\n  return { docs };\n};\nexport default useFirestore;\n","import React from \"react\";\nimport useFirestore from \"../hooks/useFirestore\";\nimport { motion } from \"framer-motion\";\n\nfunction ImageDisplay({ setSelectedImg }) {\n  const { docs } = useFirestore(\"images\");\n  // console.log(docs);\n\n  return (\n    <div className=\"img-grid\">\n      {docs &&\n        docs.map((doc) => (\n          <motion.div\n            whileHover={{ opacity: 1, scale: 1.07 }}\n            whileTap={{ scale: 0.9 }}\n            layout\n            className=\"img-wrap\"\n            key={doc.id}\n            onClick={() => setSelectedImg(doc.url)}\n          >\n            <motion.img\n              src={doc.url}\n              alt=\"uploaded pic\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 1 }}\n            />\n          </motion.div>\n        ))}\n    </div>\n  );\n}\n\nexport default ImageDisplay;\n","import { useState, useEffect } from \"react\";\nimport { serverStorage, serverFirestore, timestamp } from \"../firebase/config\";\n\nconst useStorage = (file) => {\n  const [progress, setProgress] = useState(0);\n  const [error, setError] = useState(null);\n  const [url, setUrl] = useState(null);\n\n  useEffect(() => {\n    const storageRef = serverStorage.ref(file.name);\n    const collectionRef = serverFirestore.collection(\"images\");\n\n    storageRef.put(file).on(\n      \"state_changed\",\n      (snap) => {\n        let uploadPercentage = (snap.bytesTransferred / snap.totalBytes) * 100;\n        setProgress(uploadPercentage);\n      },\n      (err) => {\n        console.log(\"Error in putting file abd percentage.\");\n        setError(err);\n      },\n      async () => {\n        const url = await storageRef.getDownloadURL();\n        const createdAt = timestamp();\n        await collectionRef.add({ url, createdAt });\n        setUrl(url);\n      }\n    );\n  }, [file]);\n\n  return { progress, url, error };\n};\nexport default useStorage;\n","import React, { useEffect } from \"react\";\nimport useStorage from \"../hooks/useStorage\";\nimport { motion } from \"framer-motion\";\n\nconst ProgressBar = ({ file, setFile }) => {\n  const { url, progress } = useStorage(file);\n  // console.log(progress, url);\n  useEffect(() => {\n    if (url) {\n      setFile(null);\n    }\n  }, [url, setFile]);\n\n  return (\n    <motion.div\n      className=\"progress-bar\"\n      initial={{ width: 0 }}\n      animate={{ width: progress + \"%\" }}\n    ></motion.div>\n  );\n};\n\nexport default ProgressBar;\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport ProgressBar from \"./ProgressBar\";\n\nconst ImageUpload = ({ currentUser }) => {\n  const [file, setFile] = useState(null);\n  const [error, setError] = useState(null);\n  const { push } = useHistory();\n\n  const allowedTypes = [\"image/png\", \"image/jpeg\"];\n\n  const uploadHandler = (e) => {\n    let selected = e.target.files[0];\n\n    if (selected && allowedTypes.includes(selected.type)) {\n      setFile(selected);\n      setError(\"\");\n    } else {\n      setFile(null);\n      setError(\"Please select an image files (png/jpeg)\");\n    }\n  };\n\n  return (\n    <form className=\"upload-form\">\n      {currentUser ? (\n        <label className=\"upload-label\">\n          <input type=\"file\" onChange={uploadHandler} />\n          <span>+</span>\n        </label>\n      ) : (\n        <button className=\"btn login-btn\" onClick={() => push(\"./login\")}>\n          Login to upload\n        </button>\n      )}\n      <div className=\"output\">\n        {error && <div className=\"error\">{error}</div>}\n        {file && <div>{file.name}</div>}\n        {file && <ProgressBar file={file} setFile={setFile} />}\n      </div>\n    </form>\n  );\n};\n\nexport default ImageUpload;\n","import React from \"react\";\nimport { motion } from \"framer-motion\";\n\nfunction Modal({ selectedImg, setSelectedImg }) {\n  const handleClick = (e) => {\n    if (e.target.classList.contains(\"backdrop\")) {\n      setSelectedImg(null);\n    }\n  };\n  return (\n    <motion.div\n      className=\"backdrop\"\n      onClick={handleClick}\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n    >\n      <motion.img\n        src={selectedImg}\n        alt=\"enlarged pic\"\n        initial={{ y: \"-100vh\" }}\n        animate={{ y: 0 }}\n      />\n    </motion.div>\n  );\n}\n\nexport default Modal;\n","import React from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { useAuth } from \"../contexts/AuthContext\";\n\nconst NavBar = () => {\n  const { currentUser, logout } = useAuth();\n  const { push } = useHistory();\n  const handleLogout = async () => {\n    try {\n      await logout();\n      useHistory.pushState(\"./login\");\n    } catch {\n      console.log(\"error in logging out\");\n    }\n  };\n  return (\n    <nav className=\"nav-bar\">\n      <h1>PIXABOOK</h1>\n      {/* <div className=\"login-upload\" style={{ textDecoration: \"none\" }}> */}\n\n      {currentUser ? (\n        <button className=\"btn nav-link\" onClick={handleLogout}>\n          Log-out\n        </button>\n      ) : (\n        <button className=\"btn nav-link\" onClick={() => push(\"./login\")}>\n          Login\n        </button>\n      )}\n\n      {/* </div> */}\n    </nav>\n  );\n};\nexport default NavBar;\n","import React, { useState } from \"react\";\nimport ImageDisplay from \"../components/ImageDisplay\";\nimport ImageUpload from \"../components/ImageUpload\";\nimport Modal from \"../components/Modal\";\nimport NavBar from \"../components/NavBar\";\nimport { useHistory } from \"react-router-dom\";\nimport { useAuth } from \"../contexts/AuthContext\";\n\nconst Homepage = () => {\n  const { currentUser } = useAuth();\n\n  const [selectedImg, setSelectedImg] = useState(null);\n\n  return (\n    <div className=\"App\">\n      <NavBar />\n      <ImageUpload currentUser={currentUser} />\n      <ImageDisplay setSelectedImg={setSelectedImg} />\n      {selectedImg && (\n        <Modal selectedImg={selectedImg} setSelectedImg={setSelectedImg} />\n      )}\n    </div>\n  );\n};\n\nexport default Homepage;\n","import React, { useRef, useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport \"../form.css\";\nimport { auth, serverFirestore } from \"../firebase/config\";\n\nconst Login = () => {\n  const emailRef = useRef();\n  const passwordRef = useRef();\n  const { login } = useAuth();\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    try {\n      setError(\"\");\n      setLoading(true);\n      await login(emailRef.current.value, passwordRef.current.value);\n      console.log(\"Login sucess\");\n      history.push(\"/\");\n    } catch {\n      setError(\"Wrong Password\");\n    }\n    setLoading(false);\n  };\n\n  // const handleGoogle = async (e) => {\n  //   e.preventDefault();\n  //   try {\n  //     setError(\"\");\n  //     setLoading(true);\n  //     await auth.signInWithPopup(new serverFirestore.auth.GoogleAuthProvider());\n  //     console.log(\"Login sucess\");\n  //     history.push(\"/\");\n  //   } catch {\n  //     setError(\"Failed to sign in\");\n  //   }\n  //   setLoading(false);\n  // };\n\n  const handleDemo = (e) => {\n    e.preventDefault();\n    emailRef.current.value = \"tminus5@test.com\";\n    passwordRef.current.value = \"password\";\n  };\n\n  const handleShow = (e) => {\n    e.preventDefault();\n    if (passwordRef.current.type === \"password\") {\n      passwordRef.current.type = \"text\";\n      e.target.style.color = \"#1DA1F2\";\n      e.target.innerHTML = \"HIDE\";\n    } else {\n      passwordRef.current.type = \"password\";\n      e.target.innerHTML = \"SHOW\";\n      e.target.style.color = \"#111\";\n    }\n  };\n\n  return (\n    <motion.div\n      className=\"backdrop\"\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n    >\n      <div className=\"container\">\n        <h1>Login Form</h1>\n        {error}\n        <form onSubmit={handleSubmit}>\n          <div className=\"input-field\">\n            <input type=\"text\" ref={emailRef} required />\n            <label>Email</label>\n          </div>\n          <div className=\"input-field\">\n            <input\n              className=\"pswrd\"\n              type=\"password\"\n              ref={passwordRef}\n              required\n            />\n            <span className=\"show\" onClick={handleShow}>\n              SHOW\n            </span>\n            <label>Password</label>\n          </div>\n          <div className=\"button\">\n            <div className=\"inner\"></div>\n            <button disabled={loading} type=\"submit\">\n              LOGIN\n            </button>\n          </div>\n        </form>\n        <div className=\"signup\">\n          Forgot Password? <Link to=\"/reset-pass\">Reset</Link>\n        </div>\n        <div className=\"auth\">Or login with</div>\n        <div className=\"links\">\n          <div onClick={handleDemo} className=\"facebook\">\n            <i className=\"fab fa-facebook-square\">\n              <span>DEMO</span>\n            </i>\n          </div>\n          {/* <div onClick={handleGoogle} className=\"google\">\n            <i className=\"fab fa-google-plus-square\">\n              <span>Google</span>\n            </i>\n          </div> */}\n        </div>\n        <div className=\"signup\">\n          Need an account? <Link to=\"/signup\">Sign Up</Link>\n        </div>\n      </div>\n    </motion.div>\n  );\n};\n\nexport default Login;\n","import React, { useRef, useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { useAuth } from \"../contexts/AuthContext\";\n\nconst Signup = () => {\n  const emailRef = useRef();\n  const passwordRef = useRef();\n  const confirmPasswordRef = useRef();\n  const { signup } = useAuth();\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (passwordRef.current.value !== confirmPasswordRef.current.value) {\n      return setError(\"Password dosent match\");\n    }\n    try {\n      setError(\"\");\n      setLoading(true);\n      await signup(emailRef.current.value, passwordRef.current.value);\n      history.push(\"/login\");\n    } catch {\n      setError(\"Failed to create an account\");\n    }\n    setLoading(false);\n  };\n  const handleShow = (e) => {\n    e.preventDefault();\n    if (passwordRef.current.type === \"password\") {\n      passwordRef.current.type = \"text\";\n      e.target.style.color = \"#1DA1F2\";\n      e.target.innerHTML = \"HIDE\";\n    } else {\n      passwordRef.current.type = \"password\";\n      e.target.innerHTML = \"SHOW\";\n      e.target.style.color = \"#111\";\n    }\n  };\n\n  return (\n    <motion.div\n      className=\"backdrop\"\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n    >\n      <div className=\"container\">\n        <h1>Sign Up</h1>\n        {error && { error }}\n        <form onSubmit={handleSubmit}>\n          <div className=\"input-field\">\n            <input type=\"text\" ref={emailRef} required />\n            <label>Email</label>\n          </div>\n          <div className=\"input-field\">\n            <input\n              className=\"pswrd\"\n              type=\"password\"\n              ref={passwordRef}\n              required\n            />\n            <span className=\"show\" onClick={handleShow}>\n              SHOW\n            </span>\n            <label>Password</label>\n          </div>\n          <div className=\"input-field\">\n            <input\n              className=\"pswrd\"\n              type=\"password\"\n              ref={confirmPasswordRef}\n              required\n            />\n            <span className=\"show\" onClick={handleShow}>\n              SHOW\n            </span>\n            <label>Confirm Password</label>\n          </div>\n          <div className=\"button\">\n            <div className=\"inner\"></div>\n            <button disabled={loading} type=\"submit\">\n              Register\n            </button>\n          </div>\n        </form>\n        <div className=\"auth\">Or sign up with</div>\n        <div className=\"links\">\n          <div className=\"google\">\n            <i className=\"fab fa-google-plus-square\">\n              <span>Google</span>\n            </i>\n          </div>\n        </div>\n        <div className=\"signup\">\n          Have an account? <Link to=\"/login\">Log In</Link>\n        </div>\n      </div>\n    </motion.div>\n  );\n};\nexport default Signup;\n","import React, { useRef, useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { Link } from \"react-router-dom\";\nimport { useAuth } from \"../contexts/AuthContext\";\n\nconst ResetPass = () => {\n  const emailRef = useRef();\n  const { resetPass } = useAuth();\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState(\"\");\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    try {\n      setMessage(\"\");\n      setError(\"\");\n      setLoading(true);\n      await resetPass(emailRef.current.value);\n      setMessage(\"Check your inbox for futher instructions\");\n    } catch {\n      setError(\"Failed to reset password\");\n    }\n    setLoading(false);\n  };\n\n  return (\n    <motion.div\n      className=\"backdrop\"\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n    >\n      <div className=\"container\">\n        <h1>Login Form</h1>\n        {message && { message }}\n        {error && { error }}\n        <form onSubmit={handleSubmit}>\n          <div className=\"input-field\">\n            <input type=\"text\" ref={emailRef} required />\n            <label>Email</label>\n          </div>\n          <div className=\"button\">\n            <div className=\"inner\"></div>\n            <button disabled={loading} type=\"submit\">\n              Reset\n            </button>\n          </div>\n        </form>\n        <Link to=\"/login\">\n          <div className=\"links\">\n            <div className=\"google\">\n              <i className=\"fab fa-google-plus-square\">\n                <span>Cancel</span>\n              </i>\n            </div>\n          </div>\n        </Link>\n        <div className=\"signup\">\n          Need an account? <Link to=\"/signup\">Sign Up</Link>\n        </div>\n      </div>\n    </motion.div>\n  );\n};\nexport default ResetPass;\n","import React, { useState } from \"react\";\n// import AuthModal from \"./components/AuthModal\";\nimport AuthProvider from \"./contexts/AuthContext\";\n// import ImageDisplay from \"./components/ImageDisplay\";\n// import ImageUpload from \"./components/ImageUpload\";\n// import Modal from \"./components/Modal\";\n//react-router stuff\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n// import PrivateRoute from \"./routes/PrivateRoute\";\nimport PublicRoute from \"./routes/PublicRoute\";\n//pages\nimport Homepage from \"./pages/Homepage\";\nimport Login from \"./pages/Login\";\nimport Signup from \"./pages/Signup\";\nimport ResetPass from \"./pages/ResetPass\";\n\nconst App = () => {\n  const [selectedImg, setSelectedImg] = useState(null);\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <AuthProvider>\n          <Switch>\n            <PublicRoute\n              exact\n              path=\"/\"\n              component={Homepage}\n              restricted={false}\n            />\n            {/* <PrivateRoute\n              exact\n              path=\"/update-profile\"\n              component={UpdateProfile}\n            /> */}\n            <PublicRoute\n              exact\n              path=\"/signup\"\n              component={Signup}\n              restricted={true}\n            />\n            <PublicRoute\n              exact\n              path=\"/login\"\n              component={Login}\n              restricted={true}\n            />\n            <PublicRoute\n              exact\n              path=\"/reset-pass\"\n              component={ResetPass}\n              restricted={true}\n            />\n          </Switch>\n        </AuthProvider>\n      </Router>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}